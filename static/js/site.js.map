{"version":3,"sources":["site.js"],"names":["replacePageContent","page","fromHome","onHiddenCallback","TweenMax","to","pageContainer","ease","Power4","easeOut","y","opacity","onComplete","html","$","scrollTop","css","slideCoverUp","reverse","callback","scale","top","width","display","toggleClass","scrollHero","scrollVar","toFixed","Math","max","menuStyling","background","Modernizr","backdropfilter","backdrop-filter","responsiveFeatureToggle","mobileMediaQuery","matches","unbind","click","scroll","window","requestAnimationFrame","matchMedia","document","on","clickedElement","this","currentPage","data","newPage","removeClass","addClass","clickedProject","load","empty","projectGallery","Swiper","direction","pagination","el","clickable","hasClass","slideNext","slidePrev","addListener","set","x","left","delay","Elastic","config","rotationX"],"mappings":"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","file":"site.js","sourcesContent":["(function(){\n    const pageContainer = $('#page-container');\n    const mobileMediaQuery = window.matchMedia('only screen and (max-width: 767px)');\n\n    function replacePageContent(page, fromHome, onHiddenCallback) {\n        TweenMax.to(pageContainer, (fromHome ? 0 : .5), {ease: Power4.easeOut, y: '+=25', opacity: 0, onComplete: function () {\n            pageContainer.html($('#' + page).html())\n            pageContainer.scrollTop(0);\n            pageContainer.css('background-image', 'none');\n            if(typeof onHiddenCallback === 'function')\n                onHiddenCallback();\n            TweenMax.to('#page-container', .5, {ease: Power4.easeOut, y: '-=25', opacity: 1});\n        }});\n    }\n\n    function slideCoverUp(reverse, callback) {\n        TweenMax.to($('#av-logo'), 1, {ease: Power4.easeOut, scale: (reverse ? 1 : 0.2), top: (reverse ? '50%' : '2rem')});\n        TweenMax.to($('#menu .spacer'), 1, {ease: Power4.easeOut, width: (reverse ? '0' : '100%')});\n        TweenMax.to($('#page-cover'), 0.5, {y: (reverse ? '0%' : '-100%'), display: (reverse ? 'block' : 'none'), onComplete: callback});\n        $('#av-logo').toggleClass('reduced', !reverse)\n    }\n\n    function scrollHero() {\n        var scrollVar = $('#page-container').scrollTop().toFixed(2);\n\n        if(scrollVar < 500) {\n            var opacity = Math.max((100 - .5 * scrollVar)/100, 0);\n            \n            var menuStyling = {\n                'background': 'rgba(35, 35, 35, ' + (1 - opacity - .15) + ')'\n            }\n            \n            if (Modernizr.backdropfilter) {\n                menuStyling = {\n                    'background': 'rgba(35, 35, 35, ' + (1 - opacity - .25) + ')',\n                    'backdrop-filter': 'blur(' + (scrollVar/50) + 'px)'\n                }\n            }\n\n            $('#menu').css(menuStyling);\n        }\n    }\n\n    function accessDirectory(dir) {\n        return 0;\n    }\n\n    $(document).on('click', '.directory', function() {\n        var clickedElement = $(this);\n        var currentPage = pageContainer.data('contains');\n        var newPage = clickedElement.data('dir');\n        $('.selected.directory').removeClass('selected');\n        clickedElement.addClass('selected');\n\n        if(currentPage !== newPage) {\n            if(currentPage === 'home') {\n                if(newPage === 'about') {\n                    slideCoverUp(false, function () {\n                        replacePageContent(newPage, true, function () {\n                            pageContainer.css('background-image', 'linear-gradient(0deg, rgba(24,24,24,1) 20%, rgba(22,22,22,0.85) 50%, rgba(22,22,22,0.75) 100%), url(' + $('#' + newPage).data('background') + ')');\n                        });\n                    });\n                } else {\n                    slideCoverUp(false, function () {\n                        replacePageContent(newPage, true);\n                    });\n                }\n            } else if (newPage === 'home') {\n                replacePageContent(newPage);\n                slideCoverUp(true);\n            } else if (newPage === 'about') {\n                replacePageContent(newPage, false, function () {\n                    pageContainer.css('background-image', 'linear-gradient(0deg, rgba(24,24,24,1) 20%, rgba(22,22,22,0.85) 50%, rgba(22,22,22,0.75) 100%), url(' + $('#' + newPage).data('background') + ')');\n                });\n            } else {\n                replacePageContent(newPage);\n            }\n            pageContainer.data('contains', newPage);\n        }\n    });\n\n    $(document).on('click', '.project', function () {\n        var clickedProject = $(this);\n        $('#dynamic').load('/static/html/' +clickedProject.data('content'));\n        replacePageContent('dynamic', false, function () {\n            pageContainer.css('background-image', 'linear-gradient(0deg, rgba(24,24,24,1) 20%, rgba(22,22,22,0.85) 50%, rgba(22,22,22,0.75) 100%), url(' + clickedProject.data('background') + ')');\n            $('#dynamic').empty();\n            var projectGallery = new Swiper ('.swiper-container', {\n                direction: 'horizontal',\n                pagination: {\n                    el: '.swiper-pagination',\n                    clickable: true\n                },\n            });\n            $('.gallery>.swiper-container>.button').click(function() {\n                var clickedButton = $(this);\n                if(clickedButton.hasClass('next')) {\n                    projectGallery.slideNext();\n                } else {\n                    projectGallery.slidePrev();\n                }\n            });\n        });\n        pageContainer.data('contains', 'dynamic');\n    });\n\n    function responsiveFeatureToggle() {\n        if(mobileMediaQuery.matches) {\n            pageContainer.unbind('scroll');\n            $('#menu-trigger').click(function () {\n                TweenMax.to('#menu', .75, {ease: Power4.easeOut, y: 0});\n            });\n        } else {\n            pageContainer.scroll(function(){\n                window.requestAnimationFrame(scrollHero);\n            });\n        }\n    }\n\n    mobileMediaQuery.addListener(responsiveFeatureToggle);\n\n    responsiveFeatureToggle();\n\n    // Logo animation\n    TweenMax.set('#av-logo', {x: '-50%', y: '-50%', left: '50%', top: '50%'});\n    TweenMax.to($('#av-logo img'), 4, {delay: 0.5, ease: Elastic.easeOut.config( 1.5, 0.25), rotationX: 0});\n    TweenMax.to($('#menu'), .75, {delay: 0.5, ease: Power4.easeOut, top: 0, opacity: 1});\n})();"]}