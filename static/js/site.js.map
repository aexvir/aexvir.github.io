{"version":3,"sources":["site.js"],"names":["replacePageContent","page","fromHome","onHiddenCallback","TweenMax","to","pageContainer","ease","Power4","easeOut","y","opacity","onComplete","html","$","scrollTop","css","slideCoverUp","reverse","callback","scale","top","width","display","toggleClass","scrollHero","scrollVar","toFixed","Math","max","menuStyling","background","Modernizr","backdropfilter","backdrop-filter","setScrollingRevealAnimations","sr","scrollingRevealAnimations","destroy","responsiveFeatureToggle","mobileMediaQuery","matches","unbind","click","resumeHeader","find","append","each","i","e","dateRange","detach","before","ScrollReveal","reveal","revealAnimatable","join","scroll","window","requestAnimationFrame","matchMedia","document","on","clickedElement","this","currentPage","data","newPage","removeClass","addClass","console","log","empty","Typed","loop","typeSpeed","backSpeed","smartBackspace","strings","clickedProject","load","projectGallery","Swiper","direction","pagination","el","clickable","hasClass","slideNext","slidePrev","addListener","set","x","left","delay","Elastic","config","rotationX"],"mappings":"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","file":"site.js","sourcesContent":["(function(){\n    var scrollingRevealAnimations = null;\n    const revealAnimatable = [\n        '#about .sidebar>.photo',\n        '#about .sidebar>.section',\n        '#about .sidebar .skill',\n        '#about .sidebar>.photo>.header',\n        '#about .content>.header',\n        // '#about .content .gist',\n        '#about .content .gist>.title',\n        '#about .content .gist .daterange',\n        '#about .content .gist .essence>.title',\n        '#about .content .gist .essence>.description',\n        '#about .content .techskills .skill',\n        '#portfolio .element'\n    ];\n    const pageContainer = $('#page-container');\n    const mobileMediaQuery = window.matchMedia('only screen and (max-width: 767px)');\n\n    function replacePageContent(page, fromHome, onHiddenCallback) {\n        TweenMax.to(pageContainer, (fromHome ? 0 : .5), {ease: Power4.easeOut, y: '+=25', opacity: 0, onComplete: function () {\n            pageContainer.html($('#' + page).html())\n            pageContainer.scrollTop(0);\n            pageContainer.css('background-image', 'none');\n            if(typeof onHiddenCallback === 'function')\n                onHiddenCallback();\n            TweenMax.to('#page-container', .5, {ease: Power4.easeOut, y: '-=25', opacity: 1});\n        }});\n    }\n\n    function slideCoverUp(reverse, callback) {\n        TweenMax.to($('#av-logo'), 1, {ease: Power4.easeOut, scale: (reverse ? 1 : 0.2), top: (reverse ? '50%' : '2rem')});\n        TweenMax.to($('#menu .spacer'), 1, {ease: Power4.easeOut, width: (reverse ? '0' : '100%')});\n        TweenMax.to($('#page-cover'), 0.5, {y: (reverse ? '0%' : '-100%'), display: (reverse ? 'block' : 'none'), onComplete: callback});\n        $('#av-logo').toggleClass('reduced', !reverse)\n    }\n\n    function scrollHero() {\n        var scrollVar = $('#page-container').scrollTop().toFixed(2);\n\n        if(scrollVar < 500) {\n            var opacity = Math.max((100 - .5 * scrollVar)/100, 0);\n            \n            var menuStyling = {\n                'background': 'rgba(35, 35, 35, ' + (1 - opacity - .15) + ')'\n            }\n            \n            if (Modernizr.backdropfilter) {\n                menuStyling = {\n                    'background': 'rgba(35, 35, 35, ' + (1 - opacity - .25) + ')',\n                    'backdrop-filter': 'blur(' + (scrollVar/50) + 'px)'\n                }\n            }\n\n            $('#menu').css(menuStyling);\n        }\n    }\n\n    function accessDirectory(dir) {\n        return 0;\n    }\n\n    $(document).on('click', '.directory', function() {\n        var clickedElement = $(this);\n        var currentPage = pageContainer.data('contains');\n        var newPage = clickedElement.data('dir');\n        $('.selected.directory').removeClass('selected');\n        clickedElement.addClass('selected');\n\n        if(currentPage !== newPage) {\n            console.log(newPage)\n            if(currentPage === 'home') {\n                if(newPage === 'about') {\n                    slideCoverUp(false, function () {\n                        replacePageContent(newPage, true, function () {\n                            pageContainer.css('background-image', 'linear-gradient(0deg, rgba(24,24,24,1) 20%, rgba(22,22,22,0.85) 50%, rgba(22,22,22,0.75) 100%), url(' + $('#' + newPage).data('background') + ')');\n                        });\n                    });\n                } else {\n                    slideCoverUp(false, function () {\n                        replacePageContent(newPage, true);\n                    });\n                }\n            } else if (newPage === 'home') {\n                replacePageContent(newPage);\n                slideCoverUp(true);\n            } else if (newPage === 'about') {\n                replacePageContent(newPage, false, function () {\n                    pageContainer.css('background-image', 'linear-gradient(0deg, rgba(24,24,24,1) 20%, rgba(22,22,22,0.85) 50%, rgba(22,22,22,0.75) 100%), url(' + $('#' + newPage).data('background') + ')');\n                });\n            } else if (newPage === 'contact') {\n                console.log('aa')\n                replacePageContent(newPage, false, function () {\n                    console.log('callback')\n                    $('#contact-mutating-text').empty();\n                    var typed = new Typed('#contact-mutating-text', {\n                        loop: true,\n                        typeSpeed: 100,\n                        backSpeed: 25,\n                        smartBackspace: false,\n                        strings: [\n                            'Contact me',\n                            'Say hi',\n                            'Ask me something',\n                            'Wish me good things',\n                            'Send me something cool'\n                        ]\n                    });\n                });\n            } else {\n                replacePageContent(newPage);\n            }\n            pageContainer.data('contains', newPage);\n        }\n    });\n\n    $(document).on('click', '.project', function () {\n        var clickedProject = $(this);\n        $('#dynamic').load('/static/html/' +clickedProject.data('content'));\n        replacePageContent('dynamic', false, function () {\n            pageContainer.css('background-image', 'linear-gradient(0deg, rgba(24,24,24,1) 20%, rgba(22,22,22,0.85) 50%, rgba(22,22,22,0.75) 100%), url(' + clickedProject.data('background') + ')');\n            $('#dynamic').empty();\n            var projectGallery = new Swiper ('.swiper-container', {\n                direction: 'horizontal',\n                pagination: {\n                    el: '.swiper-pagination',\n                    clickable: true\n                },\n            });\n            $('.gallery>.swiper-container>.button').click(function() {\n                var clickedButton = $(this);\n                if(clickedButton.hasClass('next')) {\n                    projectGallery.slideNext();\n                } else {\n                    projectGallery.slidePrev();\n                }\n            });\n        });\n        pageContainer.data('contains', 'dynamic');\n    });\n\n    function setScrollingRevealAnimations(sr) {\n        if(scrollingRevealAnimations !== null)\n            scrollingRevealAnimations.destroy();\n\n        scrollingRevealAnimations = sr;\n    }\n\n    function responsiveFeatureToggle() {\n        if(mobileMediaQuery.matches) {\n            pageContainer.unbind('scroll');\n            $('#menu-trigger').click(function () {\n                TweenMax.to('#menu', .75, {ease: Power4.easeOut, y: 0});\n            });\n            const resumeHeader = $('#about').find('.content>.header');\n            $('#about>.resume>.sidebar>.photo').append(resumeHeader);\n            $('.gist>.experience').each(function (i, e) {\n                const dateRange = $(e).find('.daterange').detach();\n                $(e).find('.title>.name').before(dateRange);\n            });\n            setScrollingRevealAnimations(ScrollReveal());\n            scrollingRevealAnimations.reveal(revealAnimatable.join());\n        } else {\n            pageContainer.scroll(function(){\n                window.requestAnimationFrame(scrollHero);\n            });\n            const resumeHeader = $('#about>.resume>.sidebar>.photo').find('.header');\n            $('#about').find('.content>.gist').before(resumeHeader);\n            $('.gist>.experience').each(function (i, e) {\n                const dateRange = $(e).find('.daterange').detach();\n                $(e).find('.essence').before(dateRange);\n            });\n            setScrollingRevealAnimations(null);\n            // setScrollingRevealAnimations(ScrollReveal({\n            //     container: '#page-container',\n            //     reset: true\n            // }));\n            // scrollingRevealAnimations.reveal(revealAnimatable.join());\n        }\n    }\n\n    mobileMediaQuery.addListener(responsiveFeatureToggle);\n\n    responsiveFeatureToggle();\n\n    // Logo animation\n    TweenMax.set('#av-logo', {x: '-50%', y: '-50%', left: '50%', top: '50%'});\n    TweenMax.to($('#av-logo img'), 4, {delay: 0.5, ease: Elastic.easeOut.config( 1.5, 0.25), rotationX: 0});\n    TweenMax.to($('#menu'), .75, {delay: 0.5, ease: Power4.easeOut, top: 0, opacity: 1});\n})();"]}