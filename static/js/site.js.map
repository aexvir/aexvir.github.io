{"version":3,"sources":["site.js"],"names":["replacePageContent","page","fromHome","onHiddenCallback","TweenMax","slideCoverUp","callback","ease","Power4","easeOut","y","opacity","onComplete","html","$","scrollTop","css","reverse","toggleClass","to","scrollVar","scale","top","width","menuStyling","display","scrollHero","toFixed","Math","max","background","Modernizr","backdropfilter","navigatePage","mobileMediaQuery","matches","backdrop-filter","currentPage","pageContainer","data","newPage","console","log","action","match","input","empty","typed","Typed","strings","loop","typeSpeed","smartBackspace","before","scrollingRevealAnimations","setScrollingRevealAnimations","sr","window","resumeHeader","click","each","e","dateRange","append","i","find","detach","responsiveFeatureToggle","reveal","revealAnimatable","join","scroll","requestAnimationFrame","delay","matchMedia","document","on","clickedElement","this","removeClass","addClass","projectGallery","slideNext","clickedProject","Swiper","direction","pagination","addListener","set","x","left","Elastic","config","rotationX"],"mappings":"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","file":"site.js","sourcesContent":["(function(){\n    let scrollingRevealAnimations = null;\n\n    const revealAnimatable = [\n        '#about .sidebar>.photo',\n        '#about .sidebar>.section',\n        '#about .sidebar .skill',\n        '#about .sidebar>.photo>.header',\n        '#about .content>.header',\n        // '#about .content .gist',\n        '#about .content .gist>.title',\n        '#about .content .gist .daterange',\n        '#about .content .gist .essence>.title',\n        '#about .content .gist .essence>.description',\n        '#about .content .techskills .skill',\n        '#portfolio .element'\n    ];\n    const pageContainer = $('#page-container');\n    const mobileMediaQuery = window.matchMedia('only screen and (max-width: 767px)');\n\n    function replacePageContent(page, fromHome, onHiddenCallback) {\n        TweenMax.to(pageContainer, (fromHome ? 0 : .5), {ease: Power4.easeOut, y: '+=25', opacity: 0, onComplete: function () {\n            pageContainer.html($('#' + page).html())\n            pageContainer.scrollTop(0);\n            pageContainer.css('background-image', 'none');\n            if(typeof onHiddenCallback === 'function')\n                onHiddenCallback();\n            TweenMax.to('#page-container', .5, {ease: Power4.easeOut, y: '-=25', opacity: 1});\n        }});\n    }\n\n    function slideCoverUp(reverse, callback) {\n        TweenMax.to($('#av-logo'), 1, {ease: Power4.easeOut, scale: (reverse ? 1 : 0.2), top: (reverse ? '50%' : '2rem')});\n        TweenMax.to($('#menu .spacer'), 1, {ease: Power4.easeOut, width: (reverse ? '0' : '100%')});\n        TweenMax.to($('#page-cover'), 0.5, {y: (reverse ? '0%' : '-100%'), display: (reverse ? 'block' : 'none'), onComplete: callback});\n        $('#av-logo').toggleClass('reduced', !reverse)\n    }\n\n    function scrollHero() {\n        let scrollVar = $('#page-container').scrollTop().toFixed(2);\n\n        if(scrollVar < 500) {\n            let opacity = Math.max((100 - .5 * scrollVar)/100, 0);\n            \n            let menuStyling = {\n                'background': 'rgba(35, 35, 35, ' + (1 - opacity - .15) + ')'\n            }\n            \n            if (Modernizr.backdropfilter) {\n                menuStyling = {\n                    'background': 'rgba(35, 35, 35, ' + (1 - opacity - .25) + ')',\n                    'backdrop-filter': 'blur(' + (scrollVar/50) + 'px)'\n                }\n            }\n\n            $('#menu').css(menuStyling);\n        }\n    }\n\n    function navigatePage(currentPage, newPage) {\n        if(mobileMediaQuery.matches) {\n            return function () {console.log('scroll to ' + newPage)};\n\n        } else {\n            if(currentPage == newPage)\n                return function () {};\n\n            const action = currentPage + '>' + newPage;\n            console.log(action)\n            pageContainer.data('contains', newPage);\n\n            switch (action) {\n                case (action.match(/home>/) || {}).input:\n                    console.log('home>')\n                    return function () {\n                        slideCoverUp(false, function () {\n                            replacePageContent(newPage, true);\n                        });\n                    }\n\n                case (action.match(/>home/) || {}).input:\n                    console.log('>home')\n                    return function () {\n                        replacePageContent(newPage);\n                        slideCoverUp(true);\n                    };\n\n                case (action.match(/>about/) || {}).input:\n                    console.log('>about')\n                    return function () {\n                        slideCoverUp(false, function () {\n                            replacePageContent(newPage, true, function () {\n                                pageContainer.css('background-image', 'linear-gradient(0deg, rgba(24,24,24,1) 20%, rgba(22,22,22,0.85) 50%, rgba(22,22,22,0.75) 100%), url(' + $('#' + newPage).data('background') + ')');\n                            });\n                        });\n                    };\n\n                case (action.match(/>contact/) || {}).input:\n                    console.log('>contact')\n                    return function () {\n                        replacePageContent(newPage, false, function () {\n                            $('#contact-mutating-text').empty();\n                            let typed = new Typed('#contact-mutating-text', {\n                                loop: true,\n                                typeSpeed: 100,\n                                backSpeed: 25,\n                                smartBackspace: false,\n                                strings: [\n                                    'Contact me',\n                                    'Say hi',\n                                    'Ask me something',\n                                    'Wish me good things',\n                                    'Send me something cool'\n                                ]\n                            });\n                        });\n                    };\n\n                default:\n                    console.log('default')\n                    return function () {\n                        replacePageContent(newPage);\n                    };\n            }\n        }\n    }\n\n    $(document).on('click', '.directory', function() {\n        let clickedElement = $(this);\n        let currentPage = pageContainer.data('contains');\n        let newPage = clickedElement.data('dir');\n        $('.selected.directory').removeClass('selected');\n        clickedElement.addClass('selected');\n\n        navigatePage(currentPage, newPage)();\n\n        // if(currentPage !== newPage) {\n        //     console.log(newPage)\n        //     if(currentPage === 'home') {\n        //         if(newPage === 'about') {\n        //             slideCoverUp(false, function () {\n        //                 replacePageContent(newPage, true, function () {\n        //                     pageContainer.css('background-image', 'linear-gradient(0deg, rgba(24,24,24,1) 20%, rgba(22,22,22,0.85) 50%, rgba(22,22,22,0.75) 100%), url(' + $('#' + newPage).data('background') + ')');\n        //                 });\n        //             });\n        //         } else {\n        //             slideCoverUp(false, function () {\n        //                 replacePageContent(newPage, true);\n        //             });\n        //         }\n        //     } else if (newPage === 'home') {\n        //         replacePageContent(newPage);\n        //         slideCoverUp(true);\n        //     } else if (newPage === 'about') {\n        //         replacePageContent(newPage, false, function () {\n        //             pageContainer.css('background-image', 'linear-gradient(0deg, rgba(24,24,24,1) 20%, rgba(22,22,22,0.85) 50%, rgba(22,22,22,0.75) 100%), url(' + $('#' + newPage).data('background') + ')');\n        //         });\n        //     } else if (newPage === 'contact') {\n        //         replacePageContent(newPage, false, function () {\n        //             $('#contact-mutating-text').empty();\n        //             let typed = new Typed('#contact-mutating-text', {\n        //                 loop: true,\n        //                 typeSpeed: 100,\n        //                 backSpeed: 25,\n        //                 smartBackspace: false,\n        //                 strings: [\n        //                     'Contact me',\n        //                     'Say hi',\n        //                     'Ask me something',\n        //                     'Wish me good things',\n        //                     'Send me something cool'\n        //                 ]\n        //             });\n        //         });\n        //     } else {\n        //         replacePageContent(newPage);\n        //     }\n        //     pageContainer.data('contains', newPage);\n        // }\n    });\n\n    $(document).on('click', '.project', function () {\n        let clickedProject = $(this);\n        $('#dynamic').load('/static/html/' +clickedProject.data('content'));\n        replacePageContent('dynamic', false, function () {\n            pageContainer.css('background-image', 'linear-gradient(0deg, rgba(24,24,24,1) 20%, rgba(22,22,22,0.85) 50%, rgba(22,22,22,0.75) 100%), url(' + clickedProject.data('background') + ')');\n            $('#dynamic').empty();\n            let projectGallery = new Swiper ('.swiper-container', {\n                direction: 'horizontal',\n                pagination: {\n                    el: '.swiper-pagination',\n                    clickable: true\n                },\n            });\n            $('.gallery>.swiper-container>.button').click(function() {\n                let clickedButton = $(this);\n                if(clickedButton.hasClass('next')) {\n                    projectGallery.slideNext();\n                } else {\n                    projectGallery.slidePrev();\n                }\n            });\n        });\n        pageContainer.data('contains', 'dynamic');\n    });\n\n    function setScrollingRevealAnimations(sr) {\n        if(scrollingRevealAnimations !== null)\n            scrollingRevealAnimations.destroy();\n\n        scrollingRevealAnimations = sr;\n    }\n\n    function responsiveFeatureToggle() {\n        if(mobileMediaQuery.matches) {\n            pageContainer.unbind('scroll');\n            $('#menu-trigger').click(function () {\n                TweenMax.to('#menu', .75, {ease: Power4.easeOut, y: 0});\n            });\n            const resumeHeader = $('#about').find('.content>.header');\n            $('#about>.resume>.sidebar>.photo').append(resumeHeader);\n            $('.gist>.experience').each(function (i, e) {\n                const dateRange = $(e).find('.daterange').detach();\n                $(e).find('.title>.name').before(dateRange);\n            });\n            setScrollingRevealAnimations(ScrollReveal());\n            scrollingRevealAnimations.reveal(revealAnimatable.join());\n            pageContainer.empty();\n        } else {\n            pageContainer.scroll(function(){\n                window.requestAnimationFrame(scrollHero);\n            });\n            const resumeHeader = $('#about>.resume>.sidebar>.photo').find('.header');\n            $('#about').find('.content>.gist').before(resumeHeader);\n            $('.gist>.experience').each(function (i, e) {\n                const dateRange = $(e).find('.daterange').detach();\n                $(e).find('.essence').before(dateRange);\n            });\n            setScrollingRevealAnimations(null);\n        }\n    }\n\n    mobileMediaQuery.addListener(responsiveFeatureToggle);\n\n    responsiveFeatureToggle();\n\n    // Logo animation\n    TweenMax.set('#av-logo', {x: '-50%', y: '-50%', left: '50%', top: '50%'});\n    TweenMax.to($('#av-logo img'), 4, {delay: 0.5, ease: Elastic.easeOut.config( 1.5, 0.25), rotationX: 0});\n    TweenMax.to($('#menu'), .75, {delay: 0.5, ease: Power4.easeOut, top: 0, opacity: 1});\n})();"]}