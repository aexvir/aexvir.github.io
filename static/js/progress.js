"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!(function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e)})(void 0,(function(e){function t(e){this._targetElement=void 0!==e.length?e:[e],void 0===window._progressjsId&&(window._progressjsId=1),void 0===window._progressjsIntervals&&(window._progressjsIntervals={}),this._options={theme:"blue",overlayMode:!1,considerTransition:!0}}function r(e,t){var r=this;100<=t&&(t=100),e.hasAttribute("data-progressjs")&&setTimeout((function(){void 0!==r._onProgressCallback&&r._onProgressCallback.call(r,e,t);var n=o(e);n.style.width=parseInt(t)+"%";var n=n.querySelector(".progressjs-percent"),s=parseInt(n.innerHTML.replace("%","")),i=parseInt(t),a=!0;s>i&&(a=!1);var l=10;!(function e(t,r,o){var n=Math.abs(r-o);3>n?l=30:20>n?l=20:intervanIn=1,0!=r-o&&(t.innerHTML=(a?++r:--r)+"%",setTimeout((function(){e(t,r,o)}),l))})(n,s,i)}),50)}function o(e){return e=parseInt(e.getAttribute("data-progressjs")),document.querySelector('.progressjs-container > .progressjs-progress[data-progressjs="'+e+'"] > .progressjs-inner')}function n(e){for(var t=0,n=this._targetElement.length;t<n;t++){var s=this._targetElement[t];if(s.hasAttribute("data-progressjs")){var i=o(s);(i=parseInt(i.style.width.replace("%","")))&&r.call(this,s,i+(e||1))}}}function s(){var e,t=document.createElement("fakeelement"),r={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in r)if(void 0!==t.style[e])return r[e]}var i=function(e){if("object"===(void 0===e?"undefined":_typeof(e)))return new t(e);if("string"==typeof e){if(e=document.querySelectorAll(e))return new t(e);throw Error("There is no element with given selector.")}return new t(document.body)};return i.version="0.1.0",i.fn=t.prototype={clone:function(){return new t(this)},setOption:function(e,t){return this._options[e]=t,this},setOptions:function(e){var t,r=this._options,o={};for(t in r)o[t]=r[t];for(t in e)o[t]=e[t];return this._options=o,this},start:function(){if(void 0!==this._onBeforeStartCallback&&this._onBeforeStartCallback.call(this),!document.querySelector(".progressjs-container")){var e=document.createElement("div");e.className="progressjs-container",document.body.appendChild(e)}for(var e=0,t=this._targetElement.length;e<t;e++){var o=this._targetElement[e];if(!o.hasAttribute("data-progressjs")){var n,s,i,a=o;"body"===a.tagName.toLowerCase()?(n=a.clientWidth,s=a.clientHeight):(n=a.offsetWidth,s=a.offsetHeight);for(var l=i=0;a&&!isNaN(a.offsetLeft)&&!isNaN(a.offsetTop);)i+=a.offsetLeft,l+=a.offsetTop,a=a.offsetParent;a=l,o.setAttribute("data-progressjs",window._progressjsId),l=document.createElement("div"),l.className="progressjs-progress progressjs-theme-"+this._options.theme,l.style.position="body"===o.tagName.toLowerCase()?"fixed":"absolute",l.setAttribute("data-progressjs",window._progressjsId);var d=document.createElement("div");d.className="progressjs-inner";var c=document.createElement("div");c.className="progressjs-percent",c.innerHTML="1%",d.appendChild(c),this._options.overlayMode&&"body"===o.tagName.toLowerCase()?(l.style.left=0,l.style.right=0,l.style.top=0,l.style.bottom=0):(l.style.left=i+"px",l.style.top=a+"px",l.style.width=n+"px",this._options.overlayMode&&(l.style.height=s+"px")),l.appendChild(d),document.querySelector(".progressjs-container").appendChild(l),r(o,1),++window._progressjsId}}return this},set:function(e){for(var t=0,o=this._targetElement.length;t<o;t++)r.call(this,this._targetElement[t],e);return this},increase:function(e){return n.call(this,e),this},autoIncrease:function(e,t){var r=this,o=parseInt(this._targetElement[0].getAttribute("data-progressjs"));return void 0!==window._progressjsIntervals[o]&&clearInterval(window._progressjsIntervals[o]),window._progressjsIntervals[o]=setInterval((function(){n.call(r,e)}),t),this},end:function(){e:{void 0!==this._onBeforeEndCallback&&(!0===this._options.considerTransition?o(this._targetElement[0]).addEventListener(s(),this._onBeforeEndCallback,!1):this._onBeforeEndCallback.call(this));for(var e=parseInt(this._targetElement[0].getAttribute("data-progressjs")),t=0,n=this._targetElement.length;t<n;t++){var i=this._targetElement[t],a=o(i);if(!a)break e;var l=1;100>parseInt(a.style.width.replace("%",""))&&(r.call(this,i,100),l=500),(function(e,t){setTimeout((function(){e.parentNode.className+=" progressjs-end",setTimeout((function(){e.parentNode.parentNode.removeChild(e.parentNode),t.removeAttribute("data-progressjs")}),1e3)}),l)})(a,i)}if(window._progressjsIntervals[e])try{clearInterval(window._progressjsIntervals[e]),window._progressjsIntervals[e]=null,delete window._progressjsIntervals[e]}catch(e){}}return this},onbeforeend:function(e){if("function"!=typeof e)throw Error("Provided callback for onbeforeend was not a function");return this._onBeforeEndCallback=e,this},onbeforestart:function(e){if("function"!=typeof e)throw Error("Provided callback for onbeforestart was not a function");return this._onBeforeStartCallback=e,this},onprogress:function(e){if("function"!=typeof e)throw Error("Provided callback for onprogress was not a function");return this._onProgressCallback=e,this}},e.progressJs=i}));
//# sourceMappingURL=progress.js.map
